\hypertarget{_servicos_controller_8cs_source}{}\doxysection{Servicos\+Controller.\+cs}
\label{_servicos_controller_8cs_source}\index{C:/Users/Danilo/source/repos/FreebirdTech/Controllers/ServicosController.cs@{C:/Users/Danilo/source/repos/FreebirdTech/Controllers/ServicosController.cs}}
\mbox{\hyperlink{_servicos_controller_8cs}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00001}00001 \textcolor{keyword}{using} System;}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00002}00002 \textcolor{keyword}{using} System.Collections.Generic;}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00003}00003 \textcolor{keyword}{using} System.Linq;}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00004}00004 \textcolor{keyword}{using} System.Threading.Tasks;}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00005}00005 \textcolor{keyword}{using} Microsoft.AspNetCore.Mvc;}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00006}00006 \textcolor{keyword}{using} Microsoft.AspNetCore.Mvc.Rendering;}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00007}00007 \textcolor{keyword}{using} Microsoft.EntityFrameworkCore;}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00008}00008 \textcolor{keyword}{using} \mbox{\hyperlink{namespace_freebird_tech}{FreebirdTech}}.\mbox{\hyperlink{namespace_freebird_tech_1_1_data}{Data}};}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00009}00009 \textcolor{keyword}{using} \mbox{\hyperlink{namespace_freebird_tech}{FreebirdTech}}.\mbox{\hyperlink{namespace_freebird_tech_1_1_models}{Models}};}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00010}00010 \textcolor{keyword}{using} Microsoft.AspNetCore.Authorization;}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00011}00011 \textcolor{keyword}{using} Microsoft.AspNetCore.Identity;}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00012}00012 \textcolor{keyword}{using} \mbox{\hyperlink{namespace_freebird_tech}{FreebirdTech}}.\mbox{\hyperlink{namespace_freebird_tech_1_1_extensions}{Extensions}};}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00013}00013 \textcolor{keyword}{using} \mbox{\hyperlink{namespace_freebird_tech}{FreebirdTech}}.\mbox{\hyperlink{namespace_freebird_tech_1_1_view_models}{ViewModels}};}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00014}00014 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00015}00015 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespace_freebird_tech_1_1_controllers}{FreebirdTech.Controllers}}}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00016}00016 \{}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00034}00034     [Authorize]}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00035}\mbox{\hyperlink{class_freebird_tech_1_1_controllers_1_1_servicos_controller}{00035}}     \textcolor{keyword}{public} \textcolor{keyword}{class }\mbox{\hyperlink{class_freebird_tech_1_1_controllers_1_1_servicos_controller}{ServicosController}} : Controller}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00036}00036     \{}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00037}00037         \textcolor{keyword}{private} readonly \mbox{\hyperlink{class_freebird_tech_1_1_data_1_1_application_db_context}{ApplicationDbContext}} \_context;}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00038}00038         \textcolor{keyword}{private} readonly UserManager<IdentityUser> \_userManager;}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00039}00039 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00046}\mbox{\hyperlink{class_freebird_tech_1_1_controllers_1_1_servicos_controller_a99efdd9fb94f8c0ec517a44147662a46}{00046}}         \textcolor{keyword}{public} \mbox{\hyperlink{class_freebird_tech_1_1_controllers_1_1_servicos_controller_a99efdd9fb94f8c0ec517a44147662a46}{ServicosController}}(\mbox{\hyperlink{class_freebird_tech_1_1_data_1_1_application_db_context}{ApplicationDbContext}} context, UserManager<IdentityUser> userManager)}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00047}00047         \{}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00048}00048             \_context = context;}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00049}00049             \_userManager = userManager;}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00050}00050         \}}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00051}00051 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00056}00056         \textcolor{comment}{// GET: Servicos}}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00057}\mbox{\hyperlink{class_freebird_tech_1_1_controllers_1_1_servicos_controller_abdc362a9518d630decda82a623ad85f5}{00057}}         \textcolor{keyword}{public} async Task<IActionResult> \mbox{\hyperlink{class_freebird_tech_1_1_controllers_1_1_servicos_controller_abdc362a9518d630decda82a623ad85f5}{Index}}()}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00058}00058         \{}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00059}00059             \textcolor{keywordflow}{return} View(await \_context.Servicos.ToListAsync());}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00060}00060         \}}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00061}00061 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00067}00067         \textcolor{comment}{// GET: Servicos/Details/5}}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00068}00068         [AllowAnonymous]}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00069}\mbox{\hyperlink{class_freebird_tech_1_1_controllers_1_1_servicos_controller_aae2dfc14d9c841832dc73ed78329a816}{00069}}         \textcolor{keyword}{public} async Task<IActionResult> \mbox{\hyperlink{class_freebird_tech_1_1_controllers_1_1_servicos_controller_aae2dfc14d9c841832dc73ed78329a816}{Details}}(\textcolor{keywordtype}{int}? \textcolor{keywordtype}{id})}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00070}00070         \{}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00071}00071             \textcolor{keywordflow}{if} (\textcolor{keywordtype}{id} == \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00072}00072             \{}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00073}00073                 \textcolor{keywordflow}{return} NotFound();}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00074}00074             \}          }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00075}00075 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00076}00076             var servico = await \_context.Servicos.Include(m => m.OwnerID)}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00077}00077                 .FirstOrDefaultAsync(m => m.Id == \textcolor{keywordtype}{id});}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00078}00078 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00079}00079             \textcolor{keywordflow}{if} (servico == \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00080}00080             \{}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00081}00081                 \textcolor{keywordflow}{return} NotFound();}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00082}00082             \}}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00083}00083 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00084}00084             \textcolor{keywordflow}{if} (User.Identity.IsAuthenticated)}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00085}00085             \{}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00086}00086                 var user = await \_userManager.GetUserAsync(User);}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00087}00087                 \textcolor{keywordflow}{if} (ArtistExists(user.Id))}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00088}00088                 \{}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00089}00089                     var artist = GetArtist(user.Id);}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00090}00090                     servico.Messages = \_context.Message.Include(m => m.Sender)}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00091}00091                                                         .Include(m => m.Receiver)}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00092}00092                                                         .Where(m => m.Receiver == servico.OwnerID \&\& m.Sender == artist)}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00093}00093                                                         .ToArray();}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00094}00094                     servico.HasProfile = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00095}00095                 \}           }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00096}00096             \}}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00097}00097 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00098}00098             \_context.Entry(servico.OwnerID).Reference(m => m.AvatarImage).Load();}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00099}00099             servico.OwnerID.AvatarImageURI = servico.OwnerID.AvatarImage.DecodeImage();}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00100}00100 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00101}00101             servico.PortfolioData = servico.PopulatePortfolio(\_context);}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00102}00102 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00103}00103             \textcolor{keywordflow}{return} View(servico);}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00104}00104         \}}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00105}00105 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00110}00110         \textcolor{comment}{// GET: Servicos/Create}}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00111}\mbox{\hyperlink{class_freebird_tech_1_1_controllers_1_1_servicos_controller_ac8b12cf91a92b733f2eacf3cf63221fe}{00111}}         \textcolor{keyword}{public} async Task<IActionResult> \mbox{\hyperlink{class_freebird_tech_1_1_controllers_1_1_servicos_controller_ac8b12cf91a92b733f2eacf3cf63221fe}{CreateAsync}}()}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00112}00112         \{}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00113}00113             var user = await \_userManager.GetUserAsync(User);}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00114}00114 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00115}00115             \textcolor{keywordflow}{if}(!ArtistExists(user.Id))}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00116}00116             \{               }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00117}00117                 ModelState.AddModelError(\textcolor{stringliteral}{"{}Artist"{}}, \textcolor{stringliteral}{"{}Por favor crie um perfil antes de criar servi√ßos"{}});}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00118}00118                 \textcolor{keywordflow}{return} Redirect(\textcolor{stringliteral}{"{}Artists/create"{}});}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00119}00119             \}}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00120}00120 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00121}00121             var s = \textcolor{keyword}{new} \mbox{\hyperlink{class_freebird_tech_1_1_models_1_1_servico}{Servico}}(\_context, user.Id);}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00122}00122 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00123}00123             \textcolor{keywordflow}{return} View(s);}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00124}00124         \}}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00125}00125 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00130}00130         \textcolor{comment}{// POST: Servicos/Create}}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00131}00131         \textcolor{comment}{// To protect from overposting attacks, enable the specific properties you want to bind to.}}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00132}00132         \textcolor{comment}{// For more details, see http://go.microsoft.com/fwlink/?LinkId=317598.}}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00133}00133         [HttpPost]}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00134}00134         [ValidateAntiForgeryToken]}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00135}\mbox{\hyperlink{class_freebird_tech_1_1_controllers_1_1_servicos_controller_a8a04ddeb8282397f0b36497e2e69c88a}{00135}}         \textcolor{keyword}{public} async Task<IActionResult> \mbox{\hyperlink{class_freebird_tech_1_1_controllers_1_1_servicos_controller_a8a04ddeb8282397f0b36497e2e69c88a}{Create}}([Bind(\textcolor{stringliteral}{"{}Id,Title,Preco,BriefDescription,LongDescription,Topics,Publish,GigCategory,Address,PortfolioData"{}})] \mbox{\hyperlink{class_freebird_tech_1_1_models_1_1_servico}{Servico}} servico)}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00136}00136         \{}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00137}00137             var user = await \_userManager.GetUserAsync(User);}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00138}00138             var artist = GetArtist(user.Id);}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00139}00139 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00140}00140             servico.\mbox{\hyperlink{class_freebird_tech_1_1_models_1_1_servico_a745632ed76885decffed1104ed04ae8d}{OwnerID}} = artist;}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00141}00141 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00142}00142             var s = servico.\mbox{\hyperlink{class_freebird_tech_1_1_models_1_1_servico_a9fbbffcb5bfa9ae32a47ee5ac950a1dd}{PortfolioData}}.Where(m => m.PortfolioType.ConvertToPortfolioType() == Utility.EPortfolioType.IMAGEM\_CAPA).FirstOrDefault();}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00143}00143 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00144}00144             \textcolor{keywordflow}{if} (\textcolor{keywordtype}{string}.IsNullOrEmpty(s.EmbedLink))}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00145}00145             \{}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00146}00146                 ModelState.AddModelError(\textcolor{stringliteral}{"{}Imagem Capa"{}}, \textcolor{stringliteral}{"{}Por favor selecione uma imagem de capa"{}});}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00147}00147                 servico.\mbox{\hyperlink{class_freebird_tech_1_1_models_1_1_servico_a4bb2af448393684a3adf7a958d2abd2d}{PopulateOwnerData}}(\_context, user.Id);}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00148}00148                 \textcolor{keywordflow}{return} View(servico);}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00149}00149             \}}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00150}00150 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00151}00151             servico.\mbox{\hyperlink{class_freebird_tech_1_1_models_1_1_servico_a9fbbffcb5bfa9ae32a47ee5ac950a1dd}{PortfolioData}}.SavePortfolio(\_context, servico, artist);}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00152}00152 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00153}00153             \textcolor{keywordflow}{if} (!ModelState.IsValid)}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00154}00154             \{}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00155}00155                 servico.\mbox{\hyperlink{class_freebird_tech_1_1_models_1_1_servico_a4bb2af448393684a3adf7a958d2abd2d}{PopulateOwnerData}}(\_context, user.Id);}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00156}00156                 \textcolor{keywordflow}{return} View(servico);}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00157}00157             \}          }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00158}00158 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00159}00159             \_context.Add(servico);}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00160}00160 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00161}00161             await \_context.SaveChangesAsync();}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00162}00162             \textcolor{keywordflow}{return} RedirectToAction(nameof(\mbox{\hyperlink{class_freebird_tech_1_1_controllers_1_1_servicos_controller_abdc362a9518d630decda82a623ad85f5}{Index}}));}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00163}00163            }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00164}00164         \}}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00165}00165 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00171}00171         \textcolor{comment}{// GET: Servicos/Edit/5}}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00172}\mbox{\hyperlink{class_freebird_tech_1_1_controllers_1_1_servicos_controller_a5a136b04032451b77ec604b94ac55150}{00172}}         \textcolor{keyword}{public} async Task<IActionResult> \mbox{\hyperlink{class_freebird_tech_1_1_controllers_1_1_servicos_controller_a5a136b04032451b77ec604b94ac55150}{Edit}}(\textcolor{keywordtype}{int}? \textcolor{keywordtype}{id})}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00173}00173         \{}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00174}00174             \textcolor{keywordflow}{if} (\textcolor{keywordtype}{id} == \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00175}00175             \{}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00176}00176                 \textcolor{keywordflow}{return} NotFound();}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00177}00177             \}}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00178}00178 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00179}00179             var servico = await \_context.Servicos.FindAsync(\textcolor{keywordtype}{id});}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00180}00180 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00181}00181             \textcolor{keywordflow}{if} (servico == \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00182}00182             \{}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00183}00183                 \textcolor{keywordflow}{return} NotFound();}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00184}00184             \}}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00185}00185 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00186}00186             \_context.Entry(servico).Reference(m => m.OwnerID).Load();}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00187}00187             \_context.Entry(servico.OwnerID).Reference(m => m.AvatarImage).Load();}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00188}00188 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00189}00189             servico.OwnerID.AvatarImageURI = servico.OwnerID.AvatarImage.DecodeImage();}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00190}00190 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00191}00191             servico.PortfolioData = servico.PopulatePortfolio(\_context);}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00192}00192 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00193}00193             }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00194}00194 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00195}00195             \textcolor{keywordflow}{if} (servico.PortfolioData.Length < 5)}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00196}00196             \{}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00197}00197                 var s = servico.PortfolioData;}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00198}00198 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00199}00199                 Array.Resize(ref s, 5);}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00200}00200 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00201}00201                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = servico.PortfolioData.Length; i < 5; i++)}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00202}00202                 \{}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00203}00203                     s[i] = \textcolor{keyword}{new} \mbox{\hyperlink{class_freebird_tech_1_1_models_1_1_portfolio}{Portfolio}}() \{ Id = -\/1 \};}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00204}00204                 \}}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00205}00205 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00206}00206                 servico.PortfolioData = s;}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00207}00207             \}}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00208}00208 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00209}00209             \textcolor{keywordflow}{return} View(servico);}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00210}00210         \}}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00211}00211 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00218}00218         \textcolor{comment}{// POST: Servicos/Edit/5}}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00219}00219         \textcolor{comment}{// To protect from overposting attacks, enable the specific properties you want to bind to.}}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00220}00220         \textcolor{comment}{// For more details, see http://go.microsoft.com/fwlink/?LinkId=317598.}}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00221}00221         [HttpPost]}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00222}00222         [ValidateAntiForgeryToken]}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00223}\mbox{\hyperlink{class_freebird_tech_1_1_controllers_1_1_servicos_controller_a96d80f2a1756190062d1535cd2c4a180}{00223}}         \textcolor{keyword}{public} async Task<IActionResult> \mbox{\hyperlink{class_freebird_tech_1_1_controllers_1_1_servicos_controller_a96d80f2a1756190062d1535cd2c4a180}{Edit}}(\textcolor{keywordtype}{int} \textcolor{keywordtype}{id}, [Bind(\textcolor{stringliteral}{"{}Id,Title,Preco,BriefDescription,LongDescription,Topics,Publish,GigCategory,Address,PortfolioData,OwnerID"{}})] \mbox{\hyperlink{class_freebird_tech_1_1_models_1_1_servico}{Servico}} servico)}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00224}00224         \{}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00225}00225             \mbox{\hyperlink{class_freebird_tech_1_1_models_1_1_servico}{Servico}} servicoLocal = servico;          }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00226}00226 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00227}00227             \textcolor{keywordflow}{if} (\textcolor{keywordtype}{id} != servico.\mbox{\hyperlink{class_freebird_tech_1_1_models_1_1_servico_a3c38a6b07b513e2989efe764cbd4654b}{Id}})}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00228}00228             \{}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00229}00229                 \textcolor{keywordflow}{return} NotFound();}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00230}00230             \}}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00231}00231 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00232}00232             var user = await \_userManager.GetUserAsync(User);}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00233}00233 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00234}00234             \mbox{\hyperlink{class_freebird_tech_1_1_models_1_1_servico}{Servico}} ownerCheck = \_context.Servicos.Include(m => m.OwnerID).AsNoTracking().Where(m => m.Id == \textcolor{keywordtype}{id}).FirstOrDefault();}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00235}00235 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00236}00236             \textcolor{keywordflow}{if} (ownerCheck.\mbox{\hyperlink{class_freebird_tech_1_1_models_1_1_servico_a745632ed76885decffed1104ed04ae8d}{OwnerID}}.\mbox{\hyperlink{class_freebird_tech_1_1_models_1_1_artist_aa4c7914a058a45880789e3afe033852a}{OwnerId}} != user.Id)}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00237}00237             \{}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00238}00238                 \textcolor{keywordflow}{return} NotFound();}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00239}00239             \}}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00240}00240 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00241}00241             \textcolor{keywordflow}{if} (ModelState.IsValid)}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00242}00242             \{}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00243}00243                 \textcolor{keywordflow}{try}}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00244}00244                 \{}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00245}00245                     var artist = GetArtist(user.Id);}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00246}00246                     servico.\mbox{\hyperlink{class_freebird_tech_1_1_models_1_1_servico_a745632ed76885decffed1104ed04ae8d}{OwnerID}} = artist;}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00247}00247 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00248}00248                     var s = servico.\mbox{\hyperlink{class_freebird_tech_1_1_models_1_1_servico_a9fbbffcb5bfa9ae32a47ee5ac950a1dd}{PortfolioData}}.Where(m => m.PortfolioType.ConvertToPortfolioType() == Utility.EPortfolioType.IMAGEM\_CAPA).FirstOrDefault();}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00249}00249 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00250}00250                     \textcolor{keywordflow}{if} (\textcolor{keywordtype}{string}.IsNullOrEmpty(s.EmbedLink))}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00251}00251                     \{}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00252}00252                         ModelState.AddModelError(\textcolor{stringliteral}{"{}Imagem Capa"{}}, \textcolor{stringliteral}{"{}Por favor selecione uma imagem de capa"{}});}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00253}00253                         servico.\mbox{\hyperlink{class_freebird_tech_1_1_models_1_1_servico_a4bb2af448393684a3adf7a958d2abd2d}{PopulateOwnerData}}(\_context, user.Id);}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00254}00254                         \textcolor{keywordflow}{return} View(servico);}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00255}00255                     \}}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00256}00256 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00257}00257                     servico.\mbox{\hyperlink{class_freebird_tech_1_1_models_1_1_servico_a9fbbffcb5bfa9ae32a47ee5ac950a1dd}{PortfolioData}}.SavePortfolio(\_context, servico, artist);}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00258}00258 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00259}00259                     \textcolor{keywordflow}{if} (!ModelState.IsValid)}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00260}00260                     \{}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00261}00261                         servico.\mbox{\hyperlink{class_freebird_tech_1_1_models_1_1_servico_a4bb2af448393684a3adf7a958d2abd2d}{PopulateOwnerData}}(\_context, user.Id);}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00262}00262                         \textcolor{keywordflow}{return} View(servico);}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00263}00263                     \}}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00264}00264 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00265}00265                     \_context.Update(servico);}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00266}00266                     await \_context.SaveChangesAsync();}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00267}00267                 \}}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00268}00268                 \textcolor{keywordflow}{catch} (DbUpdateConcurrencyException)}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00269}00269                 \{}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00270}00270                     \textcolor{keywordflow}{if} (!ServicoExists(servico.\mbox{\hyperlink{class_freebird_tech_1_1_models_1_1_servico_a3c38a6b07b513e2989efe764cbd4654b}{Id}}))}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00271}00271                     \{}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00272}00272                         \textcolor{keywordflow}{return} NotFound();}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00273}00273                     \}}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00274}00274                     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00275}00275                     \{}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00276}00276                         \textcolor{keywordflow}{throw};}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00277}00277                     \}}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00278}00278                 \}}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00279}00279                 \textcolor{keywordflow}{return} RedirectToAction(nameof(\mbox{\hyperlink{class_freebird_tech_1_1_controllers_1_1_servicos_controller_abdc362a9518d630decda82a623ad85f5}{Index}}));}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00280}00280             \}}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00281}00281             \textcolor{keywordflow}{return} View(servico);}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00282}00282         \}}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00283}00283 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00289}00289         \textcolor{comment}{// GET: Servicos/Delete/5}}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00290}\mbox{\hyperlink{class_freebird_tech_1_1_controllers_1_1_servicos_controller_a0a6a6b76fcac81344999aceda8602025}{00290}}         \textcolor{keyword}{public} async Task<IActionResult> \mbox{\hyperlink{class_freebird_tech_1_1_controllers_1_1_servicos_controller_a0a6a6b76fcac81344999aceda8602025}{Delete}}(\textcolor{keywordtype}{int}? \textcolor{keywordtype}{id})}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00291}00291         \{}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00292}00292             \textcolor{keywordflow}{if} (\textcolor{keywordtype}{id} == \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00293}00293             \{}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00294}00294                 \textcolor{keywordflow}{return} NotFound();}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00295}00295             \}}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00296}00296 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00297}00297             var servico = await \_context.Servicos}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00298}00298                 .FirstOrDefaultAsync(m => m.Id == \textcolor{keywordtype}{id});}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00299}00299             \textcolor{keywordflow}{if} (servico == \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00300}00300             \{}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00301}00301                 \textcolor{keywordflow}{return} NotFound();}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00302}00302             \}}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00303}00303 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00304}00304             \textcolor{keywordflow}{return} View(servico);}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00305}00305         \}}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00306}00306 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00312}00312         \textcolor{comment}{// POST: Servicos/Delete/5}}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00313}00313         [HttpPost, ActionName(\textcolor{stringliteral}{"{}Delete"{}})]}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00314}00314         [ValidateAntiForgeryToken]}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00315}\mbox{\hyperlink{class_freebird_tech_1_1_controllers_1_1_servicos_controller_ae943ea1e932eed0514f9ddf92e07d702}{00315}}         \textcolor{keyword}{public} async Task<IActionResult> \mbox{\hyperlink{class_freebird_tech_1_1_controllers_1_1_servicos_controller_ae943ea1e932eed0514f9ddf92e07d702}{DeleteConfirmed}}(\textcolor{keywordtype}{int} \textcolor{keywordtype}{id})}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00316}00316         \{}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00317}00317             var servico = await \_context.Servicos.FindAsync(\textcolor{keywordtype}{id});}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00318}00318 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00319}00319             var portfolio = servico.PopulatePortfolio(\_context);}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00320}00320 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00321}00321             \_context.Portfolios.RemoveRange(portfolio);}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00322}00322 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00323}00323             \_context.Servicos.Remove(servico);}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00324}00324             await \_context.SaveChangesAsync();}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00325}00325             \textcolor{keywordflow}{return} RedirectToAction(nameof(\mbox{\hyperlink{class_freebird_tech_1_1_controllers_1_1_servicos_controller_abdc362a9518d630decda82a623ad85f5}{Index}}));}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00326}00326         \}}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00327}00327 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00328}\mbox{\hyperlink{class_freebird_tech_1_1_controllers_1_1_servicos_controller_ac64fa3b253721812d8368394ead4a88c}{00328}}         \textcolor{keyword}{public} async Task<IActionResult> \mbox{\hyperlink{class_freebird_tech_1_1_controllers_1_1_servicos_controller_ac64fa3b253721812d8368394ead4a88c}{UpdateMessageBoardAsync}}(\textcolor{keywordtype}{string} receiver)}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00329}00329         \{}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00330}00330 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00331}00331             \textcolor{keywordflow}{if} (!User.Identity.IsAuthenticated) \textcolor{keywordflow}{return} NotFound();}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00332}00332 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00333}00333             var user = await \_userManager.GetUserAsync(User);}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00334}00334 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00335}00335             var messages = \_context.Message.Include(m => m.Sender)}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00336}00336                                                         .Include(m => m.Receiver)}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00337}00337                                                         .Where(m => m.Receiver.OwnerId == receiver \&\& m.Sender.OwnerId == user.Id)}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00338}00338                                                         .ToArray();}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00339}00339 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00340}00340             var vm = \textcolor{keyword}{new} \mbox{\hyperlink{class_freebird_tech_1_1_view_models_1_1_message_list_view_model}{MessageListViewModel}}()}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00341}00341             \{}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00342}00342                 Messages = messages,}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00343}00343                 OwnerID = user.Id}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00344}00344             \};}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00345}00345 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00346}00346             \textcolor{keywordflow}{return} View(vm);}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00347}00347         \}}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00348}00348 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00354}00354         \textcolor{keyword}{private} \textcolor{keywordtype}{bool} ServicoExists(\textcolor{keywordtype}{int} \textcolor{keywordtype}{id})}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00355}00355         \{}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00356}00356             \textcolor{keywordflow}{return} \_context.Servicos.Any(e => e.Id == \textcolor{keywordtype}{id});}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00357}00357         \}}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00358}00358 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00364}00364         \textcolor{keyword}{private} \textcolor{keywordtype}{bool} ArtistExists(\textcolor{keywordtype}{int} \textcolor{keywordtype}{id})}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00365}00365         \{}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00366}00366             \textcolor{keywordflow}{return} \_context.Artists.Any(e => e.Id == \textcolor{keywordtype}{id});}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00367}00367         \}}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00368}00368 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00374}00374         \textcolor{keyword}{private} \textcolor{keywordtype}{bool} ArtistExists(\textcolor{keywordtype}{string} ownerId)}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00375}00375         \{}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00376}00376             \textcolor{keywordflow}{return} \_context.Artists.Any(e => e.OwnerId == ownerId);}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00377}00377         \}}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00378}00378 }
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00384}00384         \textcolor{keyword}{private} \mbox{\hyperlink{class_freebird_tech_1_1_models_1_1_artist}{Artist}} GetArtist(\textcolor{keywordtype}{string} ownerId)}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00385}00385         \{}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00386}00386             \textcolor{keywordflow}{return} \_context.Artists.Where(m => m.OwnerId == ownerId).Include(m => m.AvatarImage).FirstOrDefault();}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00387}00387         \}}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00388}00388     \}}
\DoxyCodeLine{\Hypertarget{_servicos_controller_8cs_source_l00389}00389 \}}

\end{DoxyCode}
